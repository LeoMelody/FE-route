## JSåŸºç¡€çŸ¥è¯†ç‚¹

[ä»£ç ](./code/base.js)

#### è¯·é—®Javascriptæœ‰å“ªäº›åŸºæœ¬ç±»å‹(åŸå§‹ç±»å‹ Primitive)?

ç­”ï¼Œä»¥ä¸‹6ç§ï¼ŒSymbolä¸ºES6æ–°å¢
```
Undefined Null Number Boolean String Symbol
```

#### åŸºæœ¬ç±»å‹æœ‰ä½•ç‰¹ç‚¹ï¼Ÿ

åŸºæœ¬ç±»å‹éƒ½æ˜¯å€¼ç±»å‹ï¼Œä¸å…·å¤‡æ–¹æ³•ï¼ˆå±æ€§ï¼‰å¯è°ƒç”¨ï¼Œæ¯”å¦‚ï¼š
```
undefined.test() // TypeError
```

ç–‘é—®ğŸ¤”ï¸ï¼Ÿä¸ºä»€ä¹ˆå¯ä»¥ç”¨ `'s'.toString()` è¿™ç§æ“ä½œï¼Ÿè¿™æ˜¯å› ä¸ºå¯¹äºStringå’ŒNumberç±»å‹è€Œè¨€ï¼Œä¼šæœ‰ä¸€ä¸ªéšå¼çš„è£…ç®±æ“ä½œï¼ˆè½¬æ¢æˆå¼•ç”¨ç±»å‹ï¼‰

#### çœ‹ä¸‹é¢ä»£ç 

```
// è¿™æ®µä»£ç æ˜¯å¦å‰åŠéƒ¨åˆ†çš„åˆ¤æ–­æ˜¯ä¸ªå¤šä½™çš„æ“ä½œï¼Ÿ
if (val && typeof val === 'object') {...}
```

ç­”ï¼š ä¸ï¼Œå› ä¸º `typeof null === 'object'` è¿™æ—¶JSä¸€ä¸ªå…¸å‹çš„bug

#### JSè¿˜æœ‰å“ªäº›é—®é¢˜ï¼Ÿ

```
0.1 + 0.2 !== 0.3 // todo è¡¥å……è§£å†³æ–¹æ¡ˆ
```

#### å¼•ç”¨ç±»å‹å’ŒåŸºç¡€ç±»å‹çš„ä¸åŒä¹‹å¤„ï¼Ÿ

ç­”ï¼š åŸºç¡€ç±»å‹å­˜å‚¨çš„æ˜¯å€¼ï¼Œè€Œå¼•ç”¨ç±»å‹å­˜å‚¨çš„æ˜¯å€ï¼ˆåœ°å€ï¼‰

#### typeof å’Œ instanceof åˆ¤æ–­åŸºç¡€ç±»å‹ï¼Ÿ å¦‚æœå¸¦ä¸Šå¼•ç”¨ç±»å‹å‘¢ï¼Ÿ

`typeof null === 'object' ` æ— æ³•æ­£å¸¸åˆ¤æ–­nullåŸºç¡€ç±»å‹ï¼Œå…¶ä»–å‡ ä¸ªå¯ä»¥

instanceof ç”¨äºåˆ¤æ–­å¼•ç”¨ç±»å‹çš„å®ä¾‹

#### å¼•ç”³é—®é¢˜ï¼Œå¦‚ä½•ç”¨ instanceof æ¥åˆ¤æ–­åŸºç¡€ç±»å‹

è¿™é‡Œéœ€è¦å¼•å…¥çŸ¥åç¬¦å· Symbol.hasInstance 

```
class PrimitiveString {
  static [Symbol.hasInstance](x) {
    return typeof x === 'string'
  }
}

class PrimitiveNumber {
  static [Symbol.hasInstance](x) {
    return typeof x === 'number'
  }
}

console.log('' instanceof PrimitiveString) // true
console.log(123 instanceof PrimitiveNumber) // true

```

#### é™¤äº† instanceof å“ªç§æ–¹å¼å¯ä»¥å‡†ç¡®çš„åˆ¤æ–­å¼•ç”¨ç±»å‹æ˜¯è°çš„å®ä¾‹ï¼Ÿ

`Object.prototype.toString.call(val)`

ä¸ºäº†è®©è‡ªå®šä¹‰å¼•ç”¨ç±»å‹åœ¨æ‰§è¡Œè¿™ä¸ªæ“ä½œæ—¶è¿”å›è‡ªå·±çš„æ„é€ å‡½æ•°åç§°ï¼Œéœ€è¦ç”¨åˆ°ä¸€ä¸ªçŸ¥åç¬¦å· Symbol.toStringTag

```

console.log(Object.prototype.toString.call('hello world')) // [object String]
// çŸ¥åç¬¦å· toStringTag çš„ç”¨æ³•
PrimitiveString.prototype[Symbol.toStringTag] = 'PrimitiveString'
console.log(Object.prototype.toString.call(new PrimitiveString())) // [object PrimitiveString]

```

#### ç±»å‹è½¬æ¢